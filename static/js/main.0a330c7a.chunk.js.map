{"version":3,"sources":["SearchBar.js","MainSearch.js","Pairings.js","App.js","index.js"],"names":["SearchBar","props","startSearch","event","input","target","value","matches","food","filter","name","match","RegExp","normalize","replace","searchResults","current","classList","remove","length","add","setState","foodMatches","searchDropdown","index","className","id","param","onClick","e","setFood","handleEnter","key","searchInput","state","React","createRef","bind","onSubmit","preventDefault","ref","this","onChange","onKeyDown","type","placeholder","src","alt","width","height","map","PureComponent","MainSearch","foodParam","style","backgroundImage","randomBackground","href","rel","backgrounds","Math","floor","random","Pairings","listSteps","item","i","steps","individualStep","j","allSteps","push","step","join","listIngredients","ingredients","k","fade","prevProps","dish","pairings","undefined","onAnimationEnd","foodSelection","pairingText","pairedWines","status","dishRecipe","App","toLowerCase","innerHTML","getPairings","apiKey","process","fetch","then","url","json","results","catch","error","console","log","method","title","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0a330c7a.chunk.js","sourcesContent":["import React, { PureComponent } from \"react\";\nimport food from \"./food.json\";\nimport \"./SearchBar.css\";\n\nexport default class SearchBar extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      foodMatches: []\n    };\n    this.searchResults = React.createRef();\n    this.searchInput = React.createRef();\n    this.startSearch = this.startSearch.bind(this);\n  }\n\n  startSearch = (event) => {\n    let input = event.target.value;\n    let matches = food.filter((food) => {\n      return food.name.match(new RegExp(`${input.normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g, \"\").replace(/[`~!@#$%^&*()_|+=?;:,.<>{}[\\]\\\\/]/gi, '')}`, 'gi'))\n    });\n    this.searchResults.current.classList.remove(\"hide\");\n\n    //if input is empty, hide search\n    if (input === '' || input.length === 0) {\n      this.searchResults.current.classList.add(\"hide\")\n    } else {\n      this.setState({ foodMatches: matches });\n    }\n    this.searchDropdown(matches)\n  }\n\n  searchDropdown = (match, index) => {\n    return <li className=\"search-results__result\" key={match.param} id={match.param} onClick={(e) => {this.props.setFood(e);this.searchResults.current.classList.add(\"hide\")}}>{match.name}</li>\n  }\n\n  handleEnter = (e) => {\n    if (e.key === 'Enter') {\n      this.props.setFood(this.searchInput.current.value);\n    }\n  }\n\n  render() {\n    return (\n      <form className=\"search-bar\" onSubmit={(e) => {e.preventDefault()}}>\n        <div className=\"search-bar__field\">\n          <input id=\"search-bar__input\" className=\"search-bar__input\"\n            ref={this.searchInput} \n            onChange={this.startSearch}\n            onKeyDown={this.handleEnter}\n            type=\"text\"\n            placeholder=\"Search for a wine pairing\"\n          />\n          <div className=\"search-bar__button\">\n            <img src=\"./images/search.svg\"\n              alt=\"search\"\n              width=\"20\"\n              height=\"20\" />\n          </div>\n        </div>\n        <div className=\"search-results hide\" ref={this.searchResults} id=\"search-results\">\n          <ul className=\"search-results__dropdown\" id=\"search-results__dropdown\">\n            {this.state.foodMatches.length ? this.state.foodMatches.map(this.searchDropdown) : null}\n          </ul>\n        </div>\n      </form>\n    );\n  }\n}","import React, { PureComponent } from \"react\";\nimport SearchBar from \"./SearchBar\";\nimport backgrounds from \"./backgrounds.json\";\nimport \"./MainSearch.css\";\n\nexport default class MainSearch extends PureComponent {\n  render() {\n    return (\n      <div id=\"main-search\" className={this.props.foodParam.length ? \"main-search fadeOut\" : \"main-search\"} style={{ backgroundImage: `url(${randomBackground})` }}>\n        <div className=\"main-search--dark\">\n          <div className=\"main-search--center\">\n            <h1 className=\"main-search__logo\"><img src=\"./images/pantry-white.svg\"\n              alt=\"Pantry\"\n              width=\"200\"\n              height=\"59\" />\n            </h1>\n            <h2 className=\"main-search__header\">What are we cooking today?</h2>\n            <SearchBar setFood={this.props.setFood} foodParam={this.props.foodParam}/>\n          </div>\n          <p className=\"main-search__footer\"><a className=\"main-search__footer-link\" href=\"https://github.com/mariatnguyen\" target=\"_blank\" rel=\"noreferrer\">mariatnguyen @ Github</a></p>\n        </div>\n      </div>\n    );\n  }\n}\n\n//randomize background\nconst randomBackground = backgrounds[Math.floor(backgrounds.length * Math.random())];\n","import React, { PureComponent } from \"react\";\nimport SearchBar from \"./SearchBar.js\";\nimport \"./Pairings.css\";\n\nexport default class Pairings extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = { fade: false }\n  }\n\n  listSteps = (item, i) => {\n    return item.steps.map(\n      (individualStep, j) => {\n        let allSteps = [];\n        if (individualStep.length !== 0) {\n          allSteps.push(individualStep.step);\n        }\n        return <li key={\"ingredient\" + j}>{allSteps.join(\"\")}</li>;\n      }\n    )\n  }\n\n  listIngredients = (item, i) => {\n    return item.steps.map(\n      (individualStep, j) => {\n        return individualStep.ingredients.map(\n          (ingredients, k) => {\n              return ingredients.length !== 0 ? <li key={\"ingredient\" + k}>{ingredients.name}</li> : null\n          }\n        )\n      }\n    )\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.dish !== prevProps.dish) {\n      this.setState({ fade: true });\n    }\n  }\n\n  render() {\n    return (\n      <div id=\"pairings\" className={\"pairings \" + this.props.pairings.length !== undefined && this.props.pairings.length !== 0 ? \"show\" : \"hide\"}>\n        <div className=\"pairings__header\">\n          <div className=\"pairings__header--max-width\">\n            <div className=\"pairings__logo\">\n              <a href=\"/pantry/\"><img src=\"./images/pantry.svg\"\n                alt=\"Pantry\"\n                width=\"100\"\n                height=\"30\" /></a>\n            </div>\n            <div className=\"pairings__searchbar\">\n              <SearchBar setFood={this.props.setFood} foodParam={this.props.foodParam}/>\n            </div>\n          </div>\n        </div>\n        <div className={this.state.fade ? 'pairings-description pairings--fade' : 'pairings-description'} onAnimationEnd={() => this.setState({ fade: false })}>\n          <div className=\"pairings-description--max-width\">\n            <h2 className=\"pairing-description__header\">{this.props.foodSelection}</h2>\n            <div className=\"pairing-description__text\" key={this.props.foodSelection + 'pairings-text'}  >\n              {this.props.pairings.pairingText ? this.props.pairings.pairingText : <p>No wine pairings found for <span className=\"pairing-description__food-selection\">{this.props.foodSelection}</span>.</p>}\n              {this.props.pairings.pairedWines !== undefined && this.props.pairings.pairedWines.length !== 0 ? <p className=\"pairing-description__wine-suggestions\"><b>Suggestions: </b>{this.props.pairings.pairedWines.join(\", \")}</p> : null}\n            </div>\n            {this.props.pairings.status !== \"failure\" && <img alt={this.props.dish} className=\"pairing__dish-image\" src={`https://spoonacular.com/recipeImages/${this.props.id}-480x360.jpg`} />}\n          </div>\n        </div>\n        {this.props.pairings.status !== \"failure\" && <div className={this.state.fade ? 'recipe pairings--fade' : 'recipe'} >\n          <div className=\"recipe--max-width\">\n            <h2 className=\"recipe__header\">{this.props.dish && \"Recipe\"}</h2>\n            <h3 className=\"recipe__dish\">{this.props.dish}</h3>\n            <div className=\"recipe__content\">\n              <div className=\"recipe__ingredients\">\n                <h4 className=\"recipe__ingredients-header\">\n                  {this.props.dish && \"Ingredients\"}\n                </h4>\n                <ul>\n                  {this.props.dishRecipe.map(this.listIngredients)}\n                </ul>\n              </div>\n              <div className=\"recipe__steps\">\n                <h4 className=\"recipe__steps-header\">\n                  {this.props.dish && \"Steps\"}\n                </h4>\n                <ol>\n                  {this.props.dishRecipe.map(this.listSteps)}\n                </ol>\n              </div>\n            </div>\n          </div>\n        </div>}\n        <a className=\"pairings__footer\" href=\"https://github.com/mariatnguyen\" target=\"_blank\" rel=\"noreferrer\">mariatnguyen @ Github</a>\n      </div>\n    );\n  }\n}","import React, { PureComponent } from \"react\";\nimport MainSearch from \"./MainSearch.js\";\nimport Pairings from \"./Pairings.js\";\nimport './App.css';\n\nclass App extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      foodParam: '',\n      foodSelection: '',\n      pairings: [],\n      dish: '',\n      id: '',\n      dishRecipe: []\n    };\n    this.setFood = this.setFood.bind(this);\n  }\n\n  setFood(event) {\n    this.setState(\n      {\n        foodParam: event.type === \"click\" ? event.target.id : event.toLowerCase(),\n        foodSelection: event.type === \"click\" ? event.target.innerHTML : event\n      });\n      event.type === \"click\" ? this.getPairings(event.target.id) : this.getPairings(event.toLowerCase());\n  }\n\n  getPairings(foodParam) {\n    const apiKey = process.env.REACT_APP_API_KEY;\n    fetch(`https://api.spoonacular.com/food/wine/pairing?food=${foodParam}&apiKey=${apiKey}`)\n      .then((url) => url.json())\n      .then(results => {\n        this.setState({\n          pairings: results\n        });\n      })\n    .catch(error => console.log(error));\n    fetch(`https://api.spoonacular.com/recipes/complexSearch?titleMatch=${foodParam}&sort=random&number=1&apiKey=${apiKey}`, {method: 'GET'})\n      .then((url) => url.json())\n      .then(results => {\n        if (results.results.length !== 0) {\n          this.setState({\n            id: results.results[0].id,\n            dish: results.results[0].title\n          });\n          return fetch(`https://api.spoonacular.com/recipes/${results.results[0].id}/analyzedInstructions?apiKey=${apiKey}`)\n        } else {\n          return null\n        }\n      })\n      .then((url) => url.json())\n      .then(results => {\n        this.setState({\n          dishRecipe: results\n        });\n      })\n      .catch(error => console.log(error));\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <MainSearch setFood={this.setFood} foodParam={this.state.foodParam}/>\n        {this.state.pairings && this.state.dishRecipe ? <Pairings setFood={this.setFood} pairings={this.state.pairings} dish={this.state.dish} id={this.state.id} dishRecipe={this.state.dishRecipe} foodSelection={this.state.foodSelection} /> : null}\n      </div>\n    );\n  }\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}
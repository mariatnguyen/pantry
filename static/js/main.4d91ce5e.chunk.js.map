{"version":3,"sources":["SearchBar.js","MainSearch.js","Pairings.js","App.js","index.js"],"names":["SearchBar","props","startSearch","event","input","target","value","matches","food","filter","name","match","RegExp","normalize","replace","searchResults","current","classList","remove","length","add","setState","foodMatches","searchDropdown","index","className","id","param","onClick","e","setFood","state","React","createRef","bind","onChange","this","type","placeholder","src","alt","width","height","ref","map","PureComponent","MainSearch","foodParam","style","backgroundImage","randomBackground","href","rel","backgrounds","Math","floor","random","Pairings","listSteps","item","i","steps","individualStep","j","allSteps","push","step","join","listIngredients","ingredients","k","fade","prevProps","dish","pairings","undefined","onAnimationEnd","foodSelection","pairingText","pairedWines","dishRecipe","App","innerHTML","getPairings","apiKey","process","fetch","then","url","json","results","catch","error","console","log","method","title","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4d91ce5e.chunk.js","sourcesContent":["import React, { PureComponent } from \"react\";\nimport food from \"./food.json\";\nimport \"./SearchBar.css\";\n\nexport default class SearchBar extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      foodMatches: []\n    };\n    this.searchResults = React.createRef();\n    this.startSearch = this.startSearch.bind(this);\n  }\n\n  startSearch = (event) => {\n    let input = event.target.value;\n    let matches = food.filter((food) => {\n      return food.name.match(new RegExp(`${input.normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g, \"\").replace(/[`~!@#$%^&*()_|+=?;:,.<>{}[\\]\\\\/]/gi, '')}`, 'gi'))\n    });\n    this.searchResults.current.classList.remove(\"hide\");\n\n    //if input is empty, hide search\n    if (input === '' || input.length === 0) {\n      this.searchResults.current.classList.add(\"hide\")\n    } else {\n      this.setState({ foodMatches: matches });\n    }\n    this.searchDropdown(matches)\n  }\n\n  searchDropdown = (match, index) => {\n    return <li className=\"search-results__result\" key={match.param} id={match.param} onClick={(e) => {this.props.setFood(e);this.searchResults.current.classList.add(\"hide\")}}>{match.name}</li>\n  }\n\n  render() {\n    return (\n      <form className=\"search-bar\">\n        <div className=\"search-bar__field\">\n          <input id=\"search-bar__input\" className=\"search-bar__input\"\n            onChange={this.startSearch}\n            type=\"text\"\n            placeholder=\"Search for a wine pairing\"\n          />\n          <div className=\"search-bar__button\">\n            <img src=\"./images/search.svg\"\n              alt=\"search\"\n              width=\"20\"\n              height=\"20\" />\n          </div>\n        </div>\n        <div className=\"search-results hide\" ref={this.searchResults} id=\"search-results\">\n          <ul className=\"search-results__dropdown\" id=\"search-results__dropdown\">\n            {this.state.foodMatches.length ? this.state.foodMatches.map(this.searchDropdown) : <li className=\"search-results__noresult\">No results</li>}\n          </ul>\n        </div>\n      </form>\n    );\n  }\n}","import React, { PureComponent } from \"react\";\nimport SearchBar from \"./SearchBar\";\nimport backgrounds from \"./backgrounds.json\";\nimport \"./MainSearch.css\";\n\nexport default class MainSearch extends PureComponent {\n  render() {\n    return (\n      <div id=\"main-search\" className={this.props.foodParam.length ? \"main-search fadeOut\" : \"main-search\"} style={{ backgroundImage: `url(${randomBackground})` }}>\n        <div className=\"main-search--dark\">\n          <div className=\"main-search--center\">\n            <h1 className=\"main-search__logo\"><img src=\"./images/pantry-white.svg\"\n              alt=\"Pantry\"\n              width=\"200\"\n              height=\"59\" />\n            </h1>\n            <h2 className=\"main-search__header\">What are we cooking today?</h2>\n            <SearchBar setFood={this.props.setFood} foodParam={this.props.foodParam}/>\n          </div>\n          <p className=\"main-search__footer\"><a className=\"main-search__footer-link\" href=\"https://github.com/mariatnguyen\" target=\"_blank\" rel=\"noreferrer\">mariatnguyen @ Github</a></p>\n        </div>\n      </div>\n    );\n  }\n}\n\n//randomize background\nconst randomBackground = backgrounds[Math.floor(backgrounds.length * Math.random())];\n","import React, { PureComponent } from \"react\";\nimport SearchBar from \"./SearchBar.js\";\nimport \"./Pairings.css\";\n\nexport default class Pairings extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = { fade: false }\n  }\n\n  listSteps = (item, i) => {\n    return item.steps.map(\n      (individualStep, j) => {\n        let allSteps = [];\n        if (individualStep.length !== 0) {\n          allSteps.push(individualStep.step);\n        }\n        return <li key={\"ingredient\" + j}>{allSteps.join(\"\")}</li>;\n      }\n    )\n  }\n\n  listIngredients = (item, i) => {\n    return item.steps.map(\n      (individualStep, j) => {\n        return individualStep.ingredients.map(\n          (ingredients, k) => {\n              return ingredients.length !== 0 ? <li key={\"ingredient\" + k}>{ingredients.name}</li> : null\n          }\n        )\n      }\n    )\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.dish !== prevProps.dish) {\n      this.setState({ fade: true });\n    }\n  }\n\n  render() {\n    return (\n      <div id=\"pairings\" className={\"pairings \" + this.props.pairings.length !== undefined && this.props.pairings.length !== 0 ? \"show\" : \"hide\"}>\n        <div className=\"pairings__header\">\n          <div className=\"pairings__header--max-width\">\n            <div className=\"pairings__logo\">\n              <a href=\"/pantry/\"><img src=\"./images/pantry.svg\"\n                alt=\"Pantry\"\n                width=\"100\"\n                height=\"30\" /></a>\n            </div>\n            <div className=\"pairings__searchbar\">\n              <SearchBar setFood={this.props.setFood} foodParam={this.props.foodParam}/>\n            </div>\n          </div>\n        </div>\n        <div className={this.state.fade ? 'pairings-description pairings--fade' : 'pairings-description'} onAnimationEnd={() => this.setState({ fade: false })}>\n          <div className=\"pairings-description--max-width\">\n            <h2 className=\"pairing-description__header\">{this.props.foodSelection}</h2>\n            <div className=\"pairing-description__text\" key={this.props.foodSelection + 'pairings-text'}  >\n              {this.props.pairings.pairingText ? this.props.pairings.pairingText : <p>No wine pairings found for <span className=\"pairing-description__food-selection\">{this.props.foodSelection}</span>.</p>}\n              {this.props.pairings.pairedWines !== undefined && this.props.pairings.pairedWines.length !== 0 ? <p className=\"pairing-description__wine-suggestions\"><b>Suggestions: </b>{this.props.pairings.pairedWines.join(\", \")}</p> : null}\n            </div>\n            <img alt={this.props.dish} className=\"pairing__dish-image\" src={`https://spoonacular.com/recipeImages/${this.props.id}-480x360.jpg`} />\n          </div>\n        </div>\n        <div className={this.state.fade ? 'recipe pairings--fade' : 'recipe'} >\n          <div className=\"recipe--max-width\">\n            <h2 className=\"recipe__header\">{this.props.dish && \"Recipe\"}</h2>\n            <h3 className=\"recipe__dish\">{this.props.dish}</h3>\n            <div className=\"recipe__content\">\n              <div className=\"recipe__ingredients\">\n                <h4 className=\"recipe__ingredients-header\">\n                  {this.props.dish && \"Ingredients\"}\n                </h4>\n                <ul>\n                  {this.props.dishRecipe.map(this.listIngredients)}\n                </ul>\n              </div>\n              <div className=\"recipe__steps\">\n                <h4 className=\"recipe__steps-header\">\n                  {this.props.dish && \"Steps\"}\n                </h4>\n                <ol>\n                  {this.props.dishRecipe.map(this.listSteps)}\n                </ol>\n              </div>\n            </div>\n          </div>\n        </div>\n        <a className=\"pairings__footer\" href=\"https://github.com/mariatnguyen\" target=\"_blank\" rel=\"noreferrer\">mariatnguyen @ Github</a>\n      </div>\n    );\n  }\n}","import React, { PureComponent } from \"react\";\nimport MainSearch from \"./MainSearch.js\";\nimport Pairings from \"./Pairings.js\";\nimport './App.css';\n\nclass App extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      foodParam: '',\n      foodSelection: '',\n      pairings: [],\n      dish: '',\n      id: '',\n      dishRecipe: []\n    };\n    this.setFood = this.setFood.bind(this);\n  }\n\n  setFood(event) {\n    this.setState(\n      {\n        foodParam: event.target.id,\n        foodSelection: event.target.innerHTML\n      });\n    this.getPairings(event.target.id);\n  }\n\n  getPairings(foodParam) {\n    const apiKey = process.env.REACT_APP_API_KEY;\n    fetch(`https://api.spoonacular.com/food/wine/pairing?food=${foodParam}&apiKey=${apiKey}`)\n      .then((url) => url.json())\n      .then(results => {\n        this.setState({\n          pairings: results\n        });\n      })\n    .catch(error => console.log(error));\n    fetch(`https://api.spoonacular.com/recipes/complexSearch?titleMatch=${foodParam}&sort=random&number=1&apiKey=${apiKey}`, {method: 'GET'})\n      .then((url) => url.json())\n      .then(results => {\n        this.setState({\n          id: results.results[0].id,\n          dish: results.results[0].title\n        });\n    return fetch(`https://api.spoonacular.com/recipes/${results.results[0].id}/analyzedInstructions?apiKey=${apiKey}`)\n      })\n      .then((url) => url.json())\n      .then(results => {\n        this.setState({\n          dishRecipe: results\n        });\n      })\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <MainSearch setFood={this.setFood} foodParam={this.state.foodParam}/>\n        {this.state.pairings && this.state.dishRecipe ? <Pairings setFood={this.setFood}  pairings={this.state.pairings} dish={this.state.dish} id={this.state.id} dishRecipe={this.state.dishRecipe} foodSelection={this.state.foodSelection} /> : null}\n      </div>\n    );\n  }\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}